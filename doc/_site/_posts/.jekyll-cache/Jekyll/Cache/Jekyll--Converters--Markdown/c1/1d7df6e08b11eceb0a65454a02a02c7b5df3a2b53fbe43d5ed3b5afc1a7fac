I"1
<h1 id="abono">Abono</h1>

<p>En los posts anteriores hemos explicando como hacer una regla que genere un cargo en una cuenta. A nosotros, los que no somos contadores, nos gustaría tener una explicación razonable de por qué se llama de esa forma. Sin embargo, no hemos encontrado una buena explicación, pareciera que cargo es una palabra que está a asociada a la tenencia de responsabilidades, por ejemplo el jefe a cargo de un batallón tiene una responsabilidad del tamaño de un batallón. De momento, asuma que cargar una cuenta significa aumentar el monto de su lado izquiero para registrar un aumento de la responsabilidad de esa cuenta. Lo contrario se denomina abono, con lo que abonar una cuenta es descargarla de responsabilidad.</p>

<p>En este punto veremos en forma breve cómo sería abonar una cuenta. Pero ya podemos adelantar mucho trecho si le decimos que es exactamente lo mismo pero del lado derecho. Así que le dejamos de tarea que Ud. haga la regla para agregar un monto en el lado derecho de una cuenta.</p>

<p>Nosotros le adelantamos algunas tareas para que no resulte un trabajo tan agobiante:</p>

<figure class="highlight"><pre><code class="language-clips" data-lang="clips">(deftemplate cargo
   (slot monto (default 0))
   (slot realizado (default false))
)

(deftemplate cuenta
   (slot debe (default 0))
)

;este es nuevo
(deftemplate abono
  (slot monto (default 0))
  (slot realizado (default false))
)

(defrule cargar-cuenta-existente
   ?cargo  &lt;-  ( cargo (monto ?monto) )
   ?cuenta &lt;-  ( cuenta (debe ?debe)  )
  =&gt;
   ( halt )
   ( modify ?cuenta (debe ( round (+ ?debe ?monto)) ))
   ( modify ?cargo  (realizado true))
   ( printout t "c--&gt;" tab ?monto tab "|" tab 0 tab crlf)
)

(defrule abonar-cuenta-existente
   ?cargo  &lt;-  ( cargo (monto ?monto) )
   ?cuenta &lt;-  ( cuenta (debe ?debe)  )
  =&gt;
 ;Ud. debe escribir aquí lo que debe realizar esta regla
)


(defrule inicio
  (declare (salience 10000))
  =&gt;
  ( watch facts)
  ( assert (cuenta (debe 0)))
  ( assert (cargo (monto 100)))
  ( assert (abono (monto 90)))
)</code></pre></figure>

<p>Y la salida en pantalla correspondiente debise ser algo parecido a:</p>

<figure class="highlight"><pre><code class="language-clips" data-lang="clips">c--&gt;    100     |       90</code></pre></figure>

<table>
  <tbody>
    <tr>
      <td><a href="/contabilidad/2021/09/05/bienvenido.html">bienvenido</a></td>
      <td><a href="/contabilidad/2021/09/06/cuentas.html">cuentas</a></td>
      <td><a href="/contabilidad/2021/09/07/cargo.html">cargo</a></td>
    </tr>
  </tbody>
</table>

:ET